@import "tailwindcss";

@theme {
  --color-background: #0e1012;
  --color-foreground: #ededed;
  --color-primary: #a77d2f;
  --color-primary-dim: #8c6826;
  --color-surface-darker: #121417;
  --color-surface-dark: #1a1c1f;
  --color-background-light: #fbfaf9;
  --color-background-dark: #0e1012;
  --color-border-gold-faint: rgba(167, 125, 47, 0.12);
  --font-family-base: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
  --box-shadow-gold-glow: 0 10px 40px -10px rgba(167, 125, 47, 0.15);
}

@variant dark (&:where(.dark, .dark *));

/* 确保 html 和 body 背景色与页面一致，这样状态栏区域也会显示相同背景色 */
html {
  background: var(--color-background-dark);
}

body {
  background: var(--color-background-dark);
  color: var(--color-foreground);
  font-family: var(--font-family-base);
  min-height: 100dvh;
  scroll-behavior: smooth;
}

::-webkit-scrollbar {
  display: none;
}

* {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

.pb-safe {
  padding-bottom: env(safe-area-inset-bottom);
}

/* ===== iOS Safari Input Zoom Prevention ===== */
/* 
 * iOS Safari auto-zooms when focusing inputs with font-size < 16px.
 * This also affects the visual viewport in fixed-position modals.
 */
@supports (-webkit-touch-callout: none) {
  /* 1. Ensure all form elements have font-size >= 16px */
  input,
  textarea,
  select {
    font-size: 16px !important;
  }
  
  /* 2. Prevent text size adjustment */
  html {
    -webkit-text-size-adjust: 100%;
    text-size-adjust: 100%;
  }
  
  /* 3. Disable touch manipulation (prevent double-tap zoom) */
  html, body {
    touch-action: manipulation;
  }
  
  /* 4. Fix for iOS visual viewport issues with fixed elements */
   body.modal-open {
     position: fixed;
     width: 100%;
     height: 100%;
     overflow: hidden;
   }
}

@keyframes slide-up {
  from {
    transform: translateY(100%);
  }
  to {
    transform: translateY(0);
  }
}

.animate-slide-up {
  animation: slide-up 0.3s ease-out;
}
